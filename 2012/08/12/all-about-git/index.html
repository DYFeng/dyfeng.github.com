
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Git深入浅出学习 - DY.Feng's Blog 叶毅锋的博客</title>
  
  <meta name="description" content="Git深入浅出学习 Aug 12th, 2012 Tag: git 在看这篇文章之前&#8230; 如果你只是在找Git的使用命令，而不是想深入学习Git，请绕道。 Git和Linux一样，不是学几个命令就能理解到他的精髓的。
什么？你在Windows下？那你一定懂Cygwin了。 &hellip;" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <link rel="stylesheet" href="/stylesheets/screen.css" />
  <link rel="stylesheet" href="/stylesheets/pygments.css" />
  
  <link rel="alternate" href="/atom.xml" type="application/atom+xml" />
  <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-34028290-1"]),_gaq.push(["_addOrganic","baidu","wd"]),_gaq.push(["_trackPageview"]),location.hostname!=="localhost"&&function(){var a=document.createElement("script");a.async=!0,a.src="http://www.google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()</script>
</head>

<body>
<!--[if IE]>
html,body{height:100%;overflow:hidden}
<div class="ie-go-away">My blog does not support the IE!</div>
<![endif]-->

<!-- 黑长直 -->
<nav class="black-long-straight">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li><a href="/about">About Me</a></li>
    <li><a href="####">目录</a></li>
    
    <li>
      <form action="http://google.com/search" method="get" target="_blank">
        <input type="hidden" name="q" value="site:www.dyfeng.org" />
        <input type="text" name="q" class="search" placeholder="Search" x-webkit-speech />
      </form>
    </li>
    
  </ul>
</nav>

<header class="my-nickname"><em title="">(≧▼≦) 喵喵</em></header>

<link rel="stylesheet" href="/stylesheets/dcjqaccordion.css" />
<section class="main-wrap clearfix">
  <article role="article">
    

<header>
  
    <h1 class="entry-title">Git深入浅出学习</h1>
  
  
    <p class="meta">
      








  


<time datetime="2012-08-12T00:38:00+08:00" pubdate="pubdate" data-updated="true">Aug 12<span>th</span>, 2012</time>
      

<span class="tags">
  Tag:
  
    <a href='/tags/git/'>git</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=Git深入浅出学习 - &amp;url=http://www.dyfeng.org/2012/08/12/all-about-git/', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=Git深入浅出学习 - &amp;url=http://www.dyfeng.org/2012/08/12/all-about-git/', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=Git深入浅出学习 - http://www.dyfeng.org/2012/08/12/all-about-git/', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>在看这篇文章之前&#8230;</p>

<ul>
<li><p>如果你只是在找Git的使用命令，而不是想深入学习Git，请绕道。</p>

<p>Git和Linux一样，不是学几个命令就能理解到他的精髓的。</p></li>
<li><p>什么？你在Windows下？那你一定懂Cygwin了。不知道Cygwin？那你看这篇文章就有点吃力了。还不会用命令行？那你可以绕道了，这篇文章对你来说是天书。</p></li>
<li><p>请先忘记你之前所了解关于Git的一切，因为网络上的文章有99%都是以纰传纰的！！</p></li>
<li><p>请先忘记你所有学的其他版本管理系统。</p>

<p>请统统忘记<code>Svn</code>、<code>Cvs</code>、<code>Mercury</code>等，因为Git的思想跟实现跟他们有天大的区别！！</p></li>
<li><p>请不要急于求成，网上99%速成的教程都是有速度没质量的。</p>

<p>我不是说他们写的质量差，而是因为很多东西他都给简化掉了，让人有个错觉：这个很简单。其实这是不利于学习的。</p></li>
<li><p>请先从<code>最基础</code>的学起，而不是直接看操作命令，否则你只会只其然而不知其所以然，最后看到一头雾水。</p></li>
<li><p>我一开始将不会讲解任何关于使用Git的命令，而是先讲解Git的<code>底层原理</code>，如果你耐不住性子的请不要看。但我相信，这会是最快入门Git的方法之一。</p></li>
<li><p>你大概需要几天时间来消化和试验，所以不用急，慢慢看。反正你都误用了这么长时间了，花点时间来正确认识Git还是值得的。</p></li>
</ul>


<!-- 因为囊括的东西比较多，所以我这篇文章比较。对于一个作者来说，罗列知识点很容易，但你要把知识点组织起来，让人思路清晰，脉络通畅，那就是难点了。 -->


<!--  -->


<!-- 建议阅读方法： -->


<!--  -->


<!-- 0. 你可以先大概浏览一下`Local本地使用`和`Remote远程相关使用`这两章，感受一下Git的大概使用，这两章是讲述Git的在各种使用场景下的命令，不必精读。如果只是想查找命令的童鞋，看这章就可以了。 -->


<!-- 1. 再看看第一章`Git基础讲解`，最基本的概念和Git的运作方式会在这里讲述。 -->


<!-- 2. 当你遇到有不明白的术语或者词汇，不妨到`相关术语以及本文翻译`那章找找。 -->


<!-- 3. 再回来`Local本地使用`和`Remote远程相关使用`这两章。相信这个时候你应该能通过这命令，而知道他们底层究竟是做了什么操作。 -->


<!-- 4. 有空的时候可以看看`小技巧` -->


<!-- 5. 如果对Git的使用还有什么疑问，可以留言。本人也是初学Git，可以共同探讨学习。 -->




<!--more-->


<h1>Git基础讲解</h1>

<h2>Git是什么？</h2>

<p><del>Git是一个版本控制软件&#8230;</del>（地球人都知道的就不废话了，省略几百字）Git就是</p>

<ul>
<li>一个带有<code>二次元平衡世界</code>、<code>时光倒流</code>功能的<code>文件管理系统</code>。</li>
<li>一个<code>键值对</code>的数据库，<code>键</code>是<code>值</code>的SHA1值。<code>tree .git/objects</code>你就能看到他们了。</li>
<li>一个一切皆对象的系统</li>
</ul>


<!-- 为什么说他是文件管理系统呢？那跟我电脑本地的文件管理系统有什么区别？这个就得从Git的`文件模型`--基础对象模型说起了。 -->


<p>Git说白了就是一个文件储存系统，只是他储存不单单是我们普通意义上的<code>文件</code>，他还储存了<code>tree（树）</code>，<code>commit（快照）</code>，<code>tag（标签）</code>。Git能够储存的东西我们叫做<code>基础对象</code>（Git Objects）。</p>

<p>其实我们用Git做的<em>一切</em>都是围绕着这些<code>基础对象</code>而展开的，所以先学懂这个比先去学习几句命令要重要得多。</p>

<h2>Git的基本对象类型（Git Objects）</h2>

<p>  在Git系统里面有四种基本对象类型，分别是<code>blob</code>，<code>tree（树）</code>，<code>commit（快照）</code>，<code>tag（标签）</code>。几乎所有的Git都建立在管理操纵四个简单的数据结构之上，即它是建立在机器文件系统之上的一种自己的小型文件系统。</p>

<p><code>commit</code>在其他的版本控制软件很多时候都是翻译成<code>提交</code>，但在Git上他不能翻译成<code>提交</code>。他在Git上是一个<code>对象</code>，一个<code>名词</code>，一个<code>noun</code>，一个快照。这一点在很多网络文章里面都是以纰传纰的。</p>

<h3>blob对象</h3>

<p>blob对象储存了我们平常接触的文件，但他只储存了这个文件的<code>内容</code>，而没有包含修改日期、拥有者、<em>文件名</em>、目录路径之类的信息。下面我们来做个实验：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;Hello,Git!&#39;</span> &gt; test.txt
</span><span class='line'>  <span class="nv">$ </span><span class="nb">git</span> hash-object test.txt
</span><span class='line'>  63008ae88b4446dfc43b47f18aee5b427203b255
</span></code></pre></td></tr></table></div></figure>


<p>你可看到他生成了一个40位的<code>SHA1</code>值，这SHA1值就是通过<code>文件内容</code>计算出来的，所以说同一个文件只有一个SHA1值。如果你在你的电脑上做同样内容的一个文件，即使文件名不一样，计算出来的结果都是一样的。</p>

<p>现在我们把<code>test.txt</code>纳入我们Git的引索（index）里面：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> add test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> commit -m <span class="s2">&quot;add test.txt&quot;</span> <span class="c">#这句不是必须的，git add之后就已经纳入到Git的引索里面去了</span>
</span></code></pre></td></tr></table></div></figure>


<p>提交之后，<code>test.txt</code>的内容已经放进了我们Git的blob树了，我们可以根据SHA1值来看看文件的内容：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file blob 63008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>Hello,Git!
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file blob 63008a  <span class="c">#其实用前六位或者七位就可以了</span>
</span><span class='line'>Hello,Git!
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file t 63008a  <span class="c">#查看对象类型</span>
</span><span class='line'>blob
</span></code></pre></td></tr></table></div></figure>


<p>blob只记录文件的内容的好处：
- Git可以快速的仅仅通过对象名称决定两个对象是否相同
- 由于对象名称在每一个库（repository）中都由相同的方式计算得到，相同的内容存储到不同的库中将总被存储到相同的名称下，减少需要的硬盘空间。</p>

<h3>commit对象</h3>

<p>如果你有小用过Git，那对commit一定很熟悉，不就是提交嘛，其实不然。在这里的commit表示<code>快照</code>，是名词。跟blob一样，也是Git的<code>基础对象</code>之一。</p>

<p>查看一个快照（commit）对象，可以看到快照里记录了根目录树，作者，还有提交的信息。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file commit d5cb71
</span><span class='line'>tree e84b991fd55acf5eb290a11c0ae4149ce4ffc8dd
</span><span class='line'>author DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345233032 +0800
</span><span class='line'>committer DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345233032 +0800
</span><span class='line'>
</span><span class='line'>add a.txt
</span></code></pre></td></tr></table></div></figure>


<p>在下一小节<code>tree对象</code>里，我们将会学到如何创建一个快照对象，因为快照必须需要一个<code>树（tree）对象</code>。</p>

<h3>tree对象</h3>

<p>树（tree）对象跟我们本地的目录树很相似，下面我们来试验：</p>

<p>准备试验用文件</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">mkdir</span> bb <span class="o">&amp;&amp;</span> touch bb/a.txt  <span class="c">#新建一个文件夹并放置一个空文件在里面</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add bb/a.txt <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;add bb/a.txt&quot;</span> <span class="c">#提交</span>
</span></code></pre></td></tr></table></div></figure>


<p>查看HEAD（这里的HEAD其实不是树对象，而是快照对象），你会看到只有两个文件，一个是<code>test.txt</code>，另外一个是<code>树bb</code>，那还有一个文件<code>a.txt</code>呢？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-tree HEAD
</span><span class='line'>040000 tree 65a457425a679cbe9adf0d2741785d3ceabb44a7    bb
</span><span class='line'>100644 blob 63008ae88b4446dfc43b47f18aee5b427203b255    test.txt
</span></code></pre></td></tr></table></div></figure>


<p>文件<code>a.txt</code>在<code>bb树</code>里面。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$git</span> ls-tree 65a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    a.txt
</span></code></pre></td></tr></table></div></figure>


<p>树也是Git的<code>基本对象</code>，所以准确来说：blob对象<em>不是</em>储存在树对象里面，而是树对象里面写有blob对象的<code>SHA1值</code>，所以tree对象可以查找到blob对象。</p>

<p>不知道你看到这里有没有发现，我们上面的树（tree）对象，我们并没有手动添加，在<code>git add</code>的时候也没有新增，而是在<code>git commit</code>之后增加的。究竟树对象是怎么新建的呢？下面我们来试验手动添加树对象：</p>

<p>重置我们的工作目录。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">rm</span> -rf * .git/
</span><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;Good bye&#39;</span> &gt; a.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> init
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add a.txt
</span></code></pre></td></tr></table></div></figure>


<p>现在引索（stage）里有我们的a.txt了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-files --stage
</span><span class='line'>100644 c0ee9ab00ab41be0d401f00f7a4aaf2e478f9f1e 0       a.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort
</span><span class='line'>.git/objects/c0/ee9ab00ab41be0d401f00f7a4aaf2e478f9f1e
</span></code></pre></td></tr></table></div></figure>


<p>我们来创造一棵树吧，在你的电脑上应该会得到同样的一串SHA1值，因为这棵树里面的文件（文件名和文件SHA1值）我们是一样的。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git write-tree
</span><span class='line'>e84b991fd55acf5eb290a11c0ae4149ce4ffc8dd
</span></code></pre></td></tr></table></div></figure>


<p>有了一棵树，我们就能创造出一个快照（commit）了。记得前面说过，一个快照（commit）里面包含了一个树对象的SHA1值，所以你如果要创造一个快照（commit），就必须有一棵树。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;add a.txt&quot;</span> |git commit-tree e84b99 <span class="c">#新建一个快照，并把树e84b99添加到里面</span>
</span><span class='line'>d5cb71ea0e9c6a2c6b198bd5e44b80bd72aac806
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort <span class="c">#我们现在有了一个文件，一棵树，还有一个快照</span>
</span><span class='line'>.git/objects/c0/ee9ab00ab41be0d401f00f7a4aaf2e478f9f1e
</span><span class='line'>.git/objects/d5/cb71ea0e9c6a2c6b198bd5e44b80bd72aac806
</span><span class='line'>.git/objects/e8/4b991fd55acf5eb290a11c0ae4149ce4ffc8dd
</span></code></pre></td></tr></table></div></figure>


<p>如果这个快照是有parent的，也就是说在这个快照之前，已经创建过一个快照，他们在同一条分支（branch）上。那你可以指定<code>-p 选项</code>来指定parent。</p>

<p>我们把<code>master分支头（the head of master branch）</code>指向到<code>目前的快照（current commit）</code>。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">echo</span> d5cb71ea0e9c6a2c6b198bd5e44b80bd72aac806 &gt; .git/refs/heads/master
</span></code></pre></td></tr></table></div></figure>


<p>或者用更加安全的方法。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> update-ref ref/heads/master d5cb71
</span></code></pre></td></tr></table></div></figure>


<p>我们再把<code>HEAD</code>指向到master分支头（这一步在我的电脑上，<code>git init</code>的时候他已经帮我完成了）。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> symbolic-ref HEAD refs/heads/master
</span></code></pre></td></tr></table></div></figure>


<p>到目前为止，我们已经成功手动完成了一次<code>git commit</code>。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> log
</span><span class='line'>commit d5cb71ea0e9c6a2c6b198bd5e44b80bd72aac806
</span><span class='line'>Author: DY.Feng &lt;yyfeng88625@gmail.com&gt;
</span><span class='line'>Date:   Sat Aug 18 03:50:32 2012 +0800
</span><span class='line'>
</span><span class='line'>    add a.txt
</span></code></pre></td></tr></table></div></figure>


<p>如果我们没有把master分支头指向到<code>目前的快照</code>，或者快照沒有成为别人的parent，简单一句就是<code>孤立的快照</code>，不能被正常访问到的。那么他就有可能被Git的垃圾回收程序（<code>git gc</code>，他不仅回收垃圾，貌似还会压缩）删除。</p>

<h3>tag对象</h3>

<p>标签（tag）跟我们平时的标签贴纸用途非常相似，你可以把一个标签贴到一个对象上（例如commit对象，甚至是tag对象），用来标记这个对象的用途。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">rm</span> -rf .git <span class="c">#我们把现有的.git删除，重新建立一个干净的git</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> init
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-files --stage
</span><span class='line'>100644 e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 0       test.txt
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag <span class="s1">&#39;my_file_test.txt&#39;</span> e69de29 <span class="c">#给文件test.txt打个标签，标签名称不能有空格</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag
</span><span class='line'>my_file_test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">cat</span> .git/refs/tags/my_file_test.txt <span class="c">#可以看到.git/refs/tags/目录下储存了一个标签，标签内容就是文件的SHA1值</span>
</span><span class='line'>e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f |sort <span class="c">#这个时候tag没有储存到objects目录下，也就是说他现在不是对象</span>
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c">#我们再新建一个文件</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;Today,I have many many homework&quot;</span> &gt; homework.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add homework.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-files --stage
</span><span class='line'>100644 36821547a08783ec0779dfa89d9f714196402dc6 0       homework.txt
</span><span class='line'>100644 e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 0       test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag -m <span class="s2">&quot;This is my homework&quot;</span> v1.0  3682154 <span class="c">#homework.txt贴上标签，这次加上标签描述</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag
</span><span class='line'>my_file_test.txt
</span><span class='line'>v1.0
</span><span class='line'><span class="nv">$ </span><span class="nb">cat</span> .git/refs/tags/v1.0  <span class="c">#这次看到他指向的并不是homework.txt文件</span>
</span><span class='line'>d1e1a5c0a8c01ac604c87e51d583131d7f9a3ebf
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t d1e1a5c <span class="c">#原来这次指向的是一个标签（tag）</span>
</span><span class='line'>tag
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file tag d1e1a5c <span class="c">#让我们来看看标签里面究竟装了什么</span>
</span><span class='line'>object 36821547a08783ec0779dfa89d9f714196402dc6
</span><span class='line'>type blob
</span><span class='line'>tag v1.0
</span><span class='line'>tagger DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345259919 +0800
</span><span class='line'>
</span><span class='line'>This is my homework
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f |sort <span class="c">#这里可以看到这时候的标签（tag）是一个对象了</span>
</span><span class='line'>.git/objects/36/821547a08783ec0779dfa89d9f714196402dc6
</span><span class='line'>.git/objects/d1/e1a5c0a8c01ac604c87e51d583131d7f9a3ebf
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span><span class='line'>
</span><span class='line'><span class="c">#从上面的试验可以看到，tag不一定是基本对象。</span>
</span><span class='line'>
</span><span class='line'><span class="c">#tag也可以贴到tag对象上</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag -m <span class="s2">&quot;This is the tag of tag&quot;</span> v2.0 d1e1a5
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> tag
</span><span class='line'>my_file_test.txt
</span><span class='line'>v1.0
</span><span class='line'>v2.0
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t v2.0
</span><span class='line'>tag
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file tag v2.0 <span class="c">#不一定要用SHA1值，用引用就可以了。</span>
</span><span class='line'>object d1e1a5c0a8c01ac604c87e51d583131d7f9a3ebf
</span><span class='line'>type tag
</span><span class='line'>tag v2.0
</span><span class='line'>tagger DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345260572 +0800
</span><span class='line'>
</span><span class='line'>This is the tag of tag
</span></code></pre></td></tr></table></div></figure>


<h3>总结</h3>

<p>究竟我们上面的所有动作，Git都是怎么储存的？让我们看看他都储存了什么文件吧：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">rm</span> -rf .git <span class="c">#我们把现有的.git删除，重新建立一个干净的git</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> init
</span><span class='line'><span class="nv">$ </span><span class="nb">tree</span> .
</span><span class='line'>.
</span><span class='line'>├── bb
</span><span class='line'>│   └── a.txt
</span><span class='line'>└── test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> commit -m <span class="s2">&quot;add all&quot;</span> -a <span class="c">#添加并提交所有的文件到git</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort
</span><span class='line'>.git/objects/45/893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>.git/objects/5b/e1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>.git/objects/63/008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>.git/objects/65/a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span></code></pre></td></tr></table></div></figure>


<p>从上面我们可以看到，现在有两个文件，两个目录（根目录和bb目录），一个快照（commit）。</p>

<p>这个就是我们的快照（commit），可以看到快照里记录了根目录树。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t 45893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>commit
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file commit 45893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>tree 5be1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>author DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345226467 +0800
</span><span class='line'>committer DY.Feng &lt;yyfeng88625@gmail.com&gt; 1345226467 +0800
</span><span class='line'>
</span><span class='line'>add all
</span></code></pre></td></tr></table></div></figure>


<p>查看根目录树，可以看到他里面包含了<code>test.txt文件</code>和<code>bb目录</code>的SHA1值，就像一个指针一样指向他们。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t 5be1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>tree
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-tree  5be1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>040000 tree 65a457425a679cbe9adf0d2741785d3ceabb44a7    bb
</span><span class='line'>100644 blob 63008ae88b4446dfc43b47f18aee5b427203b255    test.txt
</span></code></pre></td></tr></table></div></figure>


<p>查看<code>test.txt</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t 63008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>blob
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file blob 63008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>Hello,Git!
</span></code></pre></td></tr></table></div></figure>


<p>这个是<code>bb目录</code>树，里面只有一个文件<code>a.txt</code>。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t 65a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>tree
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> ls-tree 65a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    a.txt
</span></code></pre></td></tr></table></div></figure>


<p>这个是<code>bb目录</code>里面的<code>a.txt</code>。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> cat-file -t e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span><span class='line'>blob
</span></code></pre></td></tr></table></div></figure>


<p>一共增加了5个文件。</p>

<p>这个时候我们改改<code>bb/a.txt</code>文件。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;Good&#39;</span> &gt;bb/a.txt
</span></code></pre></td></tr></table></div></figure>


<p>让Git跟踪<code>bb/a.txt</code>文件。你会看到里面会新增了一个文件，他就是新修改的<code>bb/a.txt</code>文件。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> add .
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort
</span><span class='line'>.git/objects/45/893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>.git/objects/5b/e1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>.git/objects/63/008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>.git/objects/65/a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>.git/objects/cd/9dd73b78cf79e797c97b8fd5d8b92e28d4437f
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span></code></pre></td></tr></table></div></figure>


<p>即使我们现在用<code>git checkout</code>和<code>git reset</code>，新增加的那个文件也不会消失，虽然我们现在无法通过正常的途径来获取他。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> checkout HEAD
</span><span class='line'>M       bb/a.txt <span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort
</span><span class='line'>.git/objects/45/893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>.git/objects/5b/e1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>.git/objects/63/008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>.git/objects/65/a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>.git/objects/cd/9dd73b78cf79e797c97b8fd5d8b92e28d4437f
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> reset --hard HEAD
</span><span class='line'>HEAD is now at 4589317 add all
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f | sort
</span><span class='line'>.git/objects/45/893175c9b60bdd4727c2a51ced8bae8a9c213f
</span><span class='line'>.git/objects/5b/e1b8923c561189f1fcfc5bcf2d2fe0b7684e76
</span><span class='line'>.git/objects/63/008ae88b4446dfc43b47f18aee5b427203b255
</span><span class='line'>.git/objects/65/a457425a679cbe9adf0d2741785d3ceabb44a7
</span><span class='line'>.git/objects/cd/9dd73b78cf79e797c97b8fd5d8b92e28d4437f
</span><span class='line'>.git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
</span></code></pre></td></tr></table></div></figure>


<p>从这里我们就可以看出Git与其他的版本管理系统有什么区别。最大的区别就是Git记录的其实是每个文件的快照，但他不管这个快照是什么时候在什么目录被什么人建立的，因为这些他都可以通过<code>tree对象</code>和<code>commit对象</code>来推算出来。</p>

<h2>引用（ref）</h2>

<p>其实上面我们已经看过了很多个引用，或者叫指向。像HEAD，master，tag这些都是引用。所有的引用都放在<code>.git/refs/</code>里。通过引用，我们可以很方便地调用Git的基本对象。</p>

<h2>关于分支（branch）</h2>

<p>在Git系统里面，分支（branch）並不是基本类型，而是某个<code>快照（commit）</code>的引用。这个非常容易理解，要知道，我们的<code>快照（commit）</code>是一个链式结构，从最新的那个快照起，我们可以完整地追溯到他的所有父快照。</p>

<h1>Local本地使用</h1>

<p>这章的题目叫<code>Local本地</code>，是因为这一章的操作你都不需要连接互联网就能完成。这也是分布式版本管理的一个特点，每个人都是一个<code>完整</code>的版本（相对自己而言），你可以在你的本机上检出，提交，删除&#8230;</p>

<h2>初始化</h2>

<h3>设置全局变量</h3>

<p>名字和Email会作为Github显示的依据。你不设置，没问题，只是Github的提交里显示不出你的用户名而已。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config --global user.name <span class="s2">&quot;DY.Feng&quot;</span>
</span><span class='line'>git config --global user.email <span class="s2">&quot;yyfeng88625&quot;</span>
</span><span class='line'>git config --global color.ui <span class="s2">&quot;always&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>初始化新版本库</h3>

<p>初始化，只会在根目录下创建一个<code>.git</code>的文件夹。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git init
</span></code></pre></td></tr></table></div></figure>


<p>初始化后的目录结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">tree</span> .git/
</span><span class='line'>.git/
</span><span class='line'>├── branches
</span><span class='line'>├── config
</span><span class='line'>├── description
</span><span class='line'>├── HEAD
</span><span class='line'>├── hooks
</span><span class='line'>│   ├── applypatch-msg.sample
</span><span class='line'>│   ├── commit-msg.sample
</span><span class='line'>│   ├── post-update.sample
</span><span class='line'>│   ├── pre-applypatch.sample
</span><span class='line'>│   ├── pre-commit.sample
</span><span class='line'>│   ├── prepare-commit-msg.sample
</span><span class='line'>│   ├── pre-rebase.sample
</span><span class='line'>│   └── update.sample
</span><span class='line'>├── info
</span><span class='line'>│   └── exclude
</span><span class='line'>├── objects
</span><span class='line'>│   ├── info
</span><span class='line'>│   └── pack
</span><span class='line'>└── refs
</span><span class='line'>    ├── heads
</span><span class='line'>    └── tags
</span></code></pre></td></tr></table></div></figure>


<h3>设置忽略文件</h3>

<ul>
<li>新建<code>.gitignore</code>文件并提交。</li>
<li>修改<code>.git/info/exclude</code>文件，支持正则表达式，例如<code>*.[oa]</code>等价于 <code>*.o</code> 和 <code>*.a</code>。这个方法只适用于你个人。</li>
</ul>


<h2>日常操作</h2>

<h3>添加文件到缓存区</h3>

<ul>
<li>添加个别文件。<code>git add somefile1 somefile2</code></li>
<li>添加本目录所有txt文件。<code>git add *.txt</code></li>
<li><code>递归</code>添加所有文件，不包括空目录。<code>git add .</code></li>
</ul>


<h3>从缓存区删除文件</h3>

<p>用法跟rm一样，<code>git rm --cached</code>。</p>

<ul>
<li>删除单个文件。<code>git rm --cached somefile</code></li>
<li>递归删除。<code>git rm --cached -r .</code></li>
</ul>


<h3>查看当前缓存区的情况</h3>

<p>当前缓存区的情况是<code>注释</code>掉的，这也正常嘛，还没正式提交。<code>git status</code>是查看当前缓存区（index）和HEAD之间的差异。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> status
</span></code></pre></td></tr></table></div></figure>


<p>例如下面的例子就是说明:当前缓存区比HEAD要多一个文件<code>c.txt</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> status
</span><span class='line'><span class="c"># On branch master</span>
</span><span class='line'><span class="c"># Changes to be committed:</span>
</span><span class='line'><span class="c">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c">#       new file:   c.txt</span>
</span><span class='line'><span class="c">#</span>
</span></code></pre></td></tr></table></div></figure>


<h3>从HEAD签出文件</h3>

<p><code>签出</code>这个词在用惯svn的童鞋眼中肯定很熟悉，可你得注意，这里的签出是指从<code>本地仓库</code>签出而已，不是签出远程的服务器。</p>

<p>从HEAD签出文件意味着把HEAD时的状态的文件复制出来，再次强调<code>HEAD</code>指的是最后一次提交（git commit）的状态。如果当前文件已经加入到了<code>缓存区</code>，这个动作也会把他从缓存区删除。但<em>不建议</em>把这个作为<code>撤销加入缓存区</code>的方法，因为签出会把文件也变回最后一次提交的状态，如果你已经修改过文件，那你的修改就全无了。如果你要撤销文件加入缓存区，请用<code>git rm --cached</code>。</p>

<ul>
<li>签出所有文件。<code>git checkout HEAD .</code></li>
<li>签出所有txt文件。<code>git checkout HEAD *.txt</code></li>
<li>签出个别文件。<code>git checkout HEAD somefile1 somefile2</code></li>
</ul>


<p>在这里面，我们不一定要用<code>HEAD</code>，就像我一开始说的，其实HEAD只是代表了一个32位的sha标记而已，指向最新的那次修改。<code>git log</code>就能看到本地所有的提交，每次提交都有一个32位的标记，我们的HEAD就是指向最新的那个标记。既然我们知道了原理，那我们就可以在任意一次<code>commit</code>里签出我们想要的文件。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span> log <span class="c">#找到我们要签出的那次`commit`标记是多少</span>
</span><span class='line'>commit 341c1e6921b61468ffd38ac423d7cf1120d7b086
</span><span class='line'>Author: DY.Feng &lt;yyfeng88625@gmail.com&gt;
</span><span class='line'>Date:   Mon Aug 13 05:22:11 2012 +0800
</span><span class='line'>
</span><span class='line'>    mod b to 1
</span><span class='line'>
</span><span class='line'>commit 0b5f275b20e40b51cca7bd64b2d8e50693c6660b
</span><span class='line'>Author: DY.Feng &lt;yyfeng88625@gmail.com&gt;
</span><span class='line'>Date:   Mon Aug 13 05:21:24 2012 +0800
</span><span class='line'>
</span><span class='line'>    add b,mod a to 1
</span><span class='line'>
</span><span class='line'>commit f0b121cf65b11d6b58b30531eb2415ddf0cbe451
</span><span class='line'>Author: DY.Feng &lt;yyfeng88625@gmail.com&gt;
</span><span class='line'>Date:   Mon Aug 13 04:56:14 2012 +0800
</span><span class='line'>
</span><span class='line'>    rm -
</span><span class='line'>
</span><span class='line'>commit 5f1d4283f52a825ca706b8dd039afc0dee3aa1b2
</span><span class='line'>Author: DY.Feng &lt;yyfeng88625@gmail.com&gt;
</span><span class='line'>Date:   Mon Aug 13 04:23:06 2012 +0800
</span><span class='line'>
</span><span class='line'>    first
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> checkout 0b5f275b20e40b51cca7bd64b2d8e50693c6660b b.txt <span class="c">#签出倒数第二次提交时，我们的b.txt</span>
</span></code></pre></td></tr></table></div></figure>


<h3>提交修改到本地仓库</h3>

<ul>
<li>提交之前<code>git add</code>过的。<code>git commit -m "提交信息"</code></li>
<li>提交所有修改，省略<code>git add</code>步骤。<code>git commit -m "提交信息" -a</code></li>
<li>提交单个文件，注意此文件必须是<code>git add</code>之后的。<code>git commit -m "提交信息" somefile</code></li>
<li>增补提交，复用HEAD留言（修改小错误，而不增加提交记录，掩盖自己的小马虎）。<code>git commit -C HEAD -a --amend</code></li>
</ul>


<p><em>注意：</em>修改过的文件在<code>git commit</code>之前也必须<code>git add</code>一次。</p>

<h3>撤销本地仓库的修改</h3>

<p>其实准确的来说不是撤销修改，而是把世界恢复到某个提交的时间点。</p>

<h1>Remote远程相关使用</h1>

<p>简单的说，这一章你需要连接网络才能完成。</p>

<h2>初始化</h2>

<h3>克隆版本库</h3>

<p>克隆版本库这个是我们最常用<code>获取代码</code>的方法。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git@github.com:DYFeng/test_on_github.git
</span></code></pre></td></tr></table></div></figure>


<p>克隆后你会发现Github已经帮你填写好几样东西：远程<code>origin</code>配置和分支<code>master</code>配置。origin其实是一个<code>引用</code>，远程仓库remote的引用。而分支配置<code>[branch "master"]</code>里则写明了：我的远程端是<code>origin</code>。其实这个<code>origin</code>也可以自己改一个名字，origin这个只是大众默认名字而已。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">git</span>@github.com:DYFeng/test_on_github.git
</span><span class='line'><span class="nv">$ </span><span class="nb">cd</span> test_on_github
</span><span class='line'><span class="nv">$ </span><span class="nb">cat</span> .git/config
</span><span class='line'><span class="o">[</span>core<span class="o">]</span>
</span><span class='line'>    <span class="nv">repositoryformatversion</span> <span class="o">=</span> 0
</span><span class='line'>    <span class="nv">filemode</span> <span class="o">=</span> true
</span><span class='line'>    <span class="nv">bare</span> <span class="o">=</span> false
</span><span class='line'>    <span class="nv">logallrefupdates</span> <span class="o">=</span> true
</span><span class='line'><span class="o">[</span>remote <span class="s2">&quot;origin&quot;</span><span class="o">]</span>
</span><span class='line'>    <span class="nv">fetch</span> <span class="o">=</span> +refs/heads/*:refs/remotes/origin/*
</span><span class='line'>    <span class="nv">url</span> <span class="o">=</span> git@github.com:DYFeng/test_on_github.git
</span><span class='line'><span class="o">[</span>branch <span class="s2">&quot;master&quot;</span><span class="o">]</span>
</span><span class='line'>    <span class="nv">remote</span> <span class="o">=</span> origin
</span><span class='line'>    <span class="nv">merge</span> <span class="o">=</span> refs/heads/master
</span></code></pre></td></tr></table></div></figure>


<h3>手动添加删除远程仓库</h3>

<p>其实就是生成上面<code>[remote "origin"]</code>小节的东西。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git remote add origin git@github.com:DYFeng/test_on_github.git
</span></code></pre></td></tr></table></div></figure>


<h3>删除引用和相关分支</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git remote rm origin
</span></code></pre></td></tr></table></div></figure>


<h3>创建一个空本地仓库</h3>

<p>没有远程配置也没有分支配置，而且他把<code>.git</code>里面的文件都新建到外面了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git init --bare
</span><span class='line'><span class="nv">$ </span><span class="nb">cat</span> config
</span><span class='line'><span class="o">[</span>core<span class="o">]</span>
</span><span class='line'>    <span class="nv">repositoryformatversion</span> <span class="o">=</span> 0
</span><span class='line'>    <span class="nv">filemode</span> <span class="o">=</span> true
</span><span class='line'>    <span class="nv">bare</span> <span class="o">=</span> true
</span></code></pre></td></tr></table></div></figure>


<h1>小技巧</h1>

<p>查看<code>引用</code>代表的SHA1值</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$git</span> rev-parse <span class="o">(</span>HEAD|master|...<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<h1>相关术语以及本文翻译</h1>

<p>个人英语水平不高，很多名词我是按照自己的理解来翻译的，所以相关术语我都会标上英文原词，免得误人子弟。下面是本文出现过的术语以及对应的英文原词。</p>

<ul>
<li><p>本地文件/工作目录（working tree）。他持有<code>实际文件</code>。</p></li>
<li><p>引索（index/stage）。引索保存着你文件的一个快照，下面我们用例子来说明：</p></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">rm</span> -rf * .git/
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> init <span class="c">#清空工作目录，建立一个空的git</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;Hello&#39;</span> &gt; test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add test.txt <span class="c">#添加一个文件快照</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f |sort
</span><span class='line'>.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78
</span><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39; World&#39;</span> &gt;&gt; test.txt
</span><span class='line'><span class="nv">$ </span><span class="nb">git</span> add test.txt <span class="c">#把文件修改后，再添加一个文件快照</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">find</span> .git/objects -type f |sort <span class="c">#现在可以看到文件快照变成两个了</span>
</span><span class='line'>.git/objects/0e/b080b993dbf2994de6a9b92e2c375201463df9
</span><span class='line'>.git/objects/e9/65047ad7c57865823c7d992b1d046ea66edf78
</span></code></pre></td></tr></table></div></figure>


<p>这里还要澄清一下，很多教程都叫引索（index/stage）为<code>缓存区</code>，其实是不准确的说法。</p>

<!-- 例如`git add`就是保存到缓存区。缓冲区文件是`.git/index`。 -->


<ul>
<li><p>本地仓库（repository）。仓库位于工作目录下的<code>.git</code>目录，本地仓库储存的实际文件在<code>.git/objects</code>目录。仓库里面包含了：</p>

<ul>
<li>你所有的提交（commits）</li>
<li>定义了<code>HEAD</code></li>
<li>包含了所有分支（branche）</li>
<li>包含了所有的标签（tag）</li>
<li>你这个仓库的配置，远程服务端地址等。</li>
</ul>
</li>
<li><p>HEAD。</p>

<p><em>HEAD不是一个实际的仓库！！</em>所谓的HEAD，其实就像一个<code>指针</code>，指向你最近一次快照（commit）。</p>

<p>例如<code>cat .git/HEAD</code>后得到<code>ref: refs/heads/master</code>这么一串东西，其实他的意思就是现在的<code>HEAD</code>指向<code>.git/refs/heads/master</code>文件。再跟踪下去我们就会发现<code>.git/refs/heads/master</code>里面包含了一串32位的sha码。没错，这就是真正的提交结果，也就是<code>git commit</code>之后git给回你的一个标记。这个标记跟你<code>git log</code>第一条commit的标记是一样的。</p>

<p>什么时候这个指针会移动？</p>

<ul>
<li>你<code>git chekcout</code>的时候</li>
<li>你<code>git commit</code>的时候</li>
</ul>
</li>
<li><p>提交/快照（commit）。这个<code>commit</code>我个人认为，他有两重含义。做动词的时候表示<code>提交</code>，例如<code>git commit</code>。做名词的时候表示<code>快照</code>，是Git的基本对象之一<code>commit对象</code>。例如<code>git log</code>时你会看到你之前很多次的提交，其实每一次提交都是一次对你工作目录的快照。</p></li>
<li><p>签出（checkout）。与<code>reset</code>的区别：</p></li>
<li><p>分支（branch）。分支这个对于了解svn的人来说应该很好理解。其实Git的分支只是快照（commit）的一个引用，或者说是一堆快照的引用。例如他定义了这一堆快照叫<code>branch of development</code>。</p></li>
<li><p>标签（tag）。标签这个就是一个快照（commit）的引用。跟<code>branch</code>相似，只不过他只能定义一个快照，而且他有自己的概要描述。</p></li>
<li><p>master。master就是主分支，只是一个约定俗成的名字而已，没有什么特殊。</p></li>
</ul>


<h1>后话</h1>

<p>虽然关于Git的使用有很多文章，但是没有一篇是全面而且解释清楚的，以致我还只是通晓几个Git的命令而已。有人觉得Git博大精深，其实不然，其实Git是简单的。就好比你吃一个苹果，你可以横着吃，可以竖着吃，你吃的方式可以有无限种，但没有人会去研究怎么吃苹果吧。只要你了解了本质，就会发现条条大路通罗马。</p>

<h1>参考文献</h1>

<p>在学习Git的过程中，看过的文献实在是太多了，下面只列出我浏览时间超过5分钟的。</p>

<ol>
<li>不错的一个<a href="http://blog.csdn.net/liuysheng/article/details/7191846">Git常用命令思维导图</a>，本文就是基于这个脉络来写的。</li>
<li>关于Git的方方面面（英文）。<a href="http://newartisans.com/2008/04/git-from-the-bottom-up/">原文地址</a> <a href="http://ftp.newartisans.com/pub/git.from.bottom.up.pdf">PDF下載</a></li>
<li><a href="http://guibin.iteye.com/blog/1013279">Git基础对象模型介绍</a></li>
</ol>

</div>


    <footer>
      <p class="meta neighbor clearfix">
        
          <a href="/2012/08/12/bash-completion-for-rake/" class="float-l" title="Previous Post: 为rake添加命令补全">&laquo; 为rake添加命令补全</a>
        
        
          <a href="/2012/08/18/change-the-pygment-lexer-of-octopress/" class="float-r" title="Next Post: 修改octopress的pygment语法">修改octopress的pygment语法 &raquo;</a>
        
      </p>
    </footer>
  </article>

  <section id="disqus_thread"></section>
</section>

<script src="/javascripts/jquery.dcjqaccordion.2.7.js"></script>
<script>
(function($){
    


    
    $(document).ready(function(){
	var menu_widget = $("#accordion-container");  
	var main_wrap=$("section.main-wrap");
	
	
	var nav_bar=$("body nav.black-long-straight li:last");
	function minimize_menu()
	{
	    menu_widget.hide();
	}

	function maximize_menu()
	{
	    menu_widget.show();
	}

	var chapters=$("section :header:not(:first)");
	var curTagName,oldTagName=1;
	var menu=$("<ul class='accordion' id='accordion-menu'></ul>");
	var count=0;

	chapters.each(function(){

	    var item=$(this);
	    item.attr("name",count).attr("id",count);
	    curTagName=parseInt(this.tagName.replace("H",""));

	    var link="<li tag='"+curTagName+"'><a href='#"+count+"'>"+item.text()+"</a></li>";
	    var lastLink=menu.find("a[href='#"+(count-1)+"']");

	    if (curTagName == 1)
	    {
		menu.append("<li><a href='#"+count+"'>"+item.text()+"</a></li>");
	    }else if(curTagName<oldTagName)
	    {
		lastLink.closest("li[tag='"+curTagName+"']").after(link);
	    }else if(curTagName==oldTagName)
	    {
		lastLink.parent().after(link);
	    }else if (curTagName>oldTagName)
	    {
		lastLink.after("<ul>"+link+"</ul>")
	    }
	    count++;
	    oldTagName=curTagName;
	});

	$('div#accordion-container').append(menu);
	$('#accordion-menu').dcAccordion({
	    eventType: 'click',
	    autoClose: false,
	    saveState: false,
	    disableLink: true,
	    showCount: false,
	    speed: 'slow'
	});
	$('#accordion-menu a:not(.dcjq-parent)').click(function(){
	    var href = $(this).attr("href");
	    var pos = $(href).offset().top-30;
	    $("html,body").animate({scrollTop: pos}, 1000);
	});

	var h1=250;
	var h2=190;

	var menu_width=menu_widget.width()+20;
	if (menu_width>main_wrap.offset().left)
	    minimize_menu();

	$(window).scroll(function () {   
	    offset = h2+$(document).scrollTop();
	    
	    if (offset<h1)
		menu_widget.css("top",h1+"px");
	    else
		menu_widget.css("top",offset+"px");
	}).resize(function(){

	    if (menu_width>main_wrap.offset().left)
		minimize_menu();
	    else
		maximize_menu();

	}); 
	
    });
})(jQuery); 
</script>
<div class="clean accordion-container" id="accordion-container">
<h1>Git深入浅出学习</h1>
</div>


<footer class="footer">
  &copy;2012 (≧▼≦) 喵喵
  &nbsp;-&nbsp;
  Powered by <a href="http://octopress.org" target="_blank">Octopress</a>
</footer>


<ul id="social-links">
  
  <!-- GitHub -->
  <li>
    <a href="https://github.com/DYFeng" target="_blank">
      <svg width="40" height="40" class="github" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <path fill="#f9f9f9" d="M28.436,15.099C27.235,14.897,25.985,14.764,24.97,14.728L24.791,14.722C24.832,14.632,24.863,14.571,24.873,14.562C24.895,14.543999999999999,24.913,14.468,24.915000000000003,14.394C24.915000000000003,14.353,24.933000000000003,14.22,24.961000000000002,14.044C25.236,14.054,25.601000000000003,14.062000000000001,25.999000000000002,14.065000000000001C27.536,14.077000000000002,29.144000000000002,14.201,30.247000000000003,14.396C30.904000000000003,14.512,31.121000000000002,14.508000000000001,30.636000000000003,14.39C30.145000000000003,14.271,28.689000000000004,14.096,27.529000000000003,14.020000000000001C26.750000000000004,13.967,25.633000000000003,13.947000000000001,24.975000000000005,13.958000000000002C24.994000000000003,13.844000000000001,25.016000000000005,13.717000000000002,25.039000000000005,13.587000000000002C25.132000000000005,13.084000000000001,25.163000000000004,12.578000000000001,25.165000000000006,11.571000000000002C25.167000000000005,10.009000000000002,25.083000000000006,9.579,24.574000000000005,8.546000000000001C24.367000000000004,8.124,24.133000000000006,7.766000000000001,23.850000000000005,7.442000000000001C24.097000000000005,6.713000000000001,24.091000000000005,5.584000000000001,23.835000000000004,4.594000000000001C23.624000000000006,3.782000000000001,23.550000000000004,3.7300000000000013,22.814000000000004,3.886000000000001C22.19,4.019,21.69,4.2,21.049,4.523C20.746,4.675999999999999,20.328,4.914,20.025,5.101C19.235,4.823,18.418,4.639,17.546,4.54C16.662,4.44,14.495,4.496,13.725999999999999,4.638C12.973999999999998,4.777,12.296999999999999,4.947,11.684,5.149C11.378,4.96,10.934,4.705,10.616999999999999,4.545C9.973,4.221,9.473,4.041,8.847,3.908C8.113,3.751,8.036999999999999,3.804,7.827,4.616C7.567,5.619,7.5649999999999995,6.7669999999999995,7.822,7.494C7.852,7.577,7.87,7.636,7.877,7.682C6.835,8.994,6.495,10.462,6.721,12.511C6.78,13.045,6.871,13.535,6.998,13.984C6.333,13.98,5.3870000000000005,14.004,4.704000000000001,14.048C3.5420000000000007,14.125,2.0860000000000007,14.298,1.5950000000000006,14.417C1.1110000000000007,14.535,1.3260000000000005,14.539,1.9840000000000007,14.424C3.0870000000000006,14.229999999999999,4.696000000000001,14.104,6.232000000000001,14.093C6.522000000000001,14.092,6.793000000000001,14.086,7.026000000000002,14.08C7.096000000000002,14.317,7.176000000000002,14.543,7.267000000000001,14.758000000000001L7.26,14.759C6.245,14.794,4.996,14.927,3.795,15.129C2.894,15.28,1.564,15.581999999999999,1.4089999999999998,15.669C1.2459999999999998,15.76,1.3789999999999998,15.74,2.077,15.563C3.3499999999999996,15.241000000000001,5.005,14.994,7.055,14.822000000000001L7.284,14.802000000000001C7.724,15.824000000000002,8.402,16.604000000000003,9.36,17.212000000000003C9.946,17.585000000000004,10.885,17.968000000000004,11.357999999999999,18.028000000000002C11.488,18.044,11.866,18.122000000000003,12.197999999999999,18.200000000000003C12.530999999999999,18.278000000000002,13.181999999999999,18.395000000000003,13.643999999999998,18.462000000000003H13.654999999999998C13.645999999999997,18.468000000000004,13.637999999999998,18.472000000000005,13.629999999999997,18.478C13.069999999999997,18.769000000000002,12.705999999999998,19.222,12.460999999999997,19.935000000000002C12.350999999999997,19.968000000000004,12.213999999999997,20.013,12.065999999999997,20.064000000000004C11.536999999999997,20.244000000000003,11.330999999999998,20.281000000000002,10.794999999999998,20.285000000000004C10.238999999999997,20.289000000000005,10.106999999999998,20.265000000000004,9.774999999999999,20.109000000000005C9.291999999999998,19.884000000000004,8.841999999999999,19.470000000000006,8.541999999999998,18.976000000000006C8.040999999999999,18.150000000000006,7.174999999999998,17.566000000000006,6.452999999999998,17.566000000000006C5.835999999999998,17.566000000000006,5.718999999999998,17.816000000000006,6.164999999999997,18.181000000000004C6.836999999999997,18.730000000000004,7.338999999999997,19.290000000000006,7.544999999999997,19.718000000000004C7.660999999999997,19.958000000000002,7.838999999999997,20.329000000000004,7.9419999999999975,20.542000000000005C8.050999999999998,20.769000000000005,8.283999999999997,21.077000000000005,8.505999999999997,21.290000000000006C9.027999999999997,21.788000000000007,9.531999999999996,22.026000000000007,10.283999999999997,22.138000000000005C10.787999999999997,22.212000000000007,10.911999999999997,22.212000000000007,11.506999999999998,22.136000000000006C11.793999999999999,22.101000000000006,12.035999999999998,22.060000000000006,12.252999999999998,22.009000000000007C12.252999999999998,22.253000000000007,12.252999999999998,22.534000000000006,12.252999999999998,22.864000000000008C12.252999999999998,24.63000000000001,12.231999999999998,25.198000000000008,12.161999999999999,25.364000000000008C12.03,25.680000000000007,11.733999999999998,26.00500000000001,11.446,26.151000000000007C11.158999999999999,26.297000000000008,11.07,26.458000000000006,11.190999999999999,26.606000000000005C11.258,26.686000000000003,11.386999999999999,26.700000000000006,11.819999999999999,26.672000000000004C12.641999999999998,26.621000000000006,13.222999999999999,26.317000000000004,13.518999999999998,25.781000000000006C13.613999999999999,25.609000000000005,13.636,25.263000000000005,13.665999999999999,23.463000000000005C13.697999999999999,21.510000000000005,13.711999999999998,21.322000000000003,13.838999999999999,21.043000000000006C13.915999999999999,20.877000000000006,14.027,20.697000000000006,14.088999999999999,20.648000000000007C14.192999999999998,20.56200000000001,14.2,20.732000000000006,14.2,23.068000000000005C14.199,25.646000000000004,14.173,25.957000000000004,13.915,26.453000000000003C13.857,26.566000000000003,13.747,26.713000000000005,13.67,26.783C13.535,26.906000000000002,13.478,27.221,13.572,27.316000000000003C13.726999999999999,27.470000000000002,14.504,27.228,14.927999999999999,26.894000000000002C15.649999999999999,26.322000000000003,15.735999999999999,25.849000000000004,15.741999999999999,22.433L15.745,20.429L15.963999999999999,20.45L16.183,20.47L16.219,23.090999999999998C16.26,26.041999999999998,16.266000000000002,26.084999999999997,16.768,26.654999999999998C17.053,26.976999999999997,17.34,27.154999999999998,17.807000000000002,27.293999999999997C18.432000000000002,27.481999999999996,18.62,27.191999999999997,18.200000000000003,26.688999999999997C17.743000000000002,26.141999999999996,17.721000000000004,25.932999999999996,17.746000000000002,22.694999999999997C17.763,20.618999999999996,17.763,20.618999999999996,17.897000000000002,20.739999999999995C18.179000000000002,20.995999999999995,18.233,21.415999999999993,18.233,23.362999999999996C18.233,25.780999999999995,18.302,26.010999999999996,19.156,26.432999999999996C19.555,26.627999999999997,19.666999999999998,26.651999999999997,20.177999999999997,26.653999999999996C20.721999999999998,26.655999999999995,20.754999999999995,26.647999999999996,20.775,26.505999999999997C20.791999999999998,26.391,20.724999999999998,26.312999999999995,20.471,26.157999999999998C20.138,25.953,19.907,25.691,19.762,25.360999999999997C19.707,25.233999999999998,19.67,24.401999999999997,19.645,22.688999999999997C19.608999999999998,20.295999999999996,19.601,20.186999999999998,19.451999999999998,19.811999999999998C19.250999999999998,19.307999999999996,18.944,18.909999999999997,18.555,18.645999999999997C18.454,18.58,18.352999999999998,18.525,18.222,18.483999999999998C18.383000000000003,18.468,18.539,18.450999999999997,18.69,18.429C20.262,18.22,21.093,18.046,21.76,17.787999999999997C23.171000000000003,17.244999999999997,24.125,16.342999999999996,24.642000000000003,15.063999999999997C24.688000000000002,14.949999999999996,24.734,14.841999999999997,24.773000000000003,14.754999999999997L25.171000000000003,14.787999999999997C27.222,14.960999999999997,28.877000000000002,15.207999999999997,30.150000000000002,15.530999999999997C30.848000000000003,15.707999999999997,30.981,15.728999999999997,30.818,15.635999999999997C30.666,15.551,29.336,15.25,28.436,15.099ZM22.422,15.068C22.189,15.58,21.539,16.238,21.014,16.496C20.496,16.752,19.683999999999997,16.947,18.764,17.04C18.134999999999998,17.104,14.626999999999999,17.122999999999998,14.047999999999998,17.066C12.130999999999998,16.878,11.056999999999999,16.509,10.264999999999999,15.77C9.514999999999999,15.068,9.165,14.115,9.225999999999999,12.942C9.264999999999999,12.208,9.441999999999998,11.747,9.905,11.187000000000001C10.325999999999999,10.677000000000001,10.769,10.362000000000002,11.290999999999999,10.202000000000002C11.727999999999998,10.068000000000001,13.068999999999999,10.056000000000001,14.871999999999998,10.172000000000002C15.668999999999999,10.223000000000003,16.328,10.223000000000003,17.124,10.172000000000002C19.009999999999998,10.053000000000003,20.269,10.066000000000003,20.733999999999998,10.210000000000003C21.465,10.436000000000003,22.130999999999997,11.044000000000002,22.531,11.854000000000003C22.711,12.216000000000003,22.746,12.370000000000003,22.772,12.929000000000002C22.808,13.699,22.675,14.517,22.422,15.068ZM12.912,11.762C11.839,11.574,11.226,13.411000000000001,12.049000000000001,14.349C12.440000000000001,14.794,12.787,14.867,13.221000000000002,14.597C13.623000000000001,14.346,13.841000000000001,13.876999999999999,13.841000000000001,13.269C13.841,12.458,13.472,11.862,12.912,11.762ZM19.425,11.872C18.352,11.684,17.738,13.519,18.561,14.458C18.953,14.903,19.299,14.977,19.734,14.705C20.135,14.455,20.354000000000003,13.985,20.354000000000003,13.377C20.354,12.569,19.985,11.971,19.425,11.872ZM16.539,15.484C16.516000000000002,15.558,16.404,15.668,16.291,15.727C16.005,15.874,15.799,15.823,15.497,15.548C15.31,15.379,15.225,15.29,15.168,15.467C15.114999999999998,15.631,15.447999999999999,15.96,15.705,16.061C15.941,16.155,16.11,16.158,16.366,16.051C16.62,15.944999999999999,16.842,15.659999999999998,16.842,15.474999999999998C16.842,15.303,16.595,15.311,16.539,15.484ZM16.222,14.909C16.385,14.765,16.422,14.469000000000001,16.266000000000002,14.312000000000001S15.793000000000001,14.179000000000002,15.669000000000002,14.355C15.525000000000002,14.561,15.602000000000002,14.718,15.705000000000002,14.885C15.865,15.009,16.08,15.034,16.222,14.909Z" />
      </svg>
    </a>
  </li>
  
  
  <!-- Sina Weibo -->
  <li>
    <a href="http://weibo.com/dyfeng" target="_blank">
      <svg width="40" height="40" class="sina-weibo" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <path fill="#f9f9f9" d="M9.641,17.231c-3.799,0.374-7.079-1.343-7.326-3.838c-0.246-2.494,2.634-4.82,6.434-5.196  c3.798-0.377,7.079,1.34,7.326,3.835C16.32,14.529,13.44,16.855,9.641,17.231 M17.24,8.952c-0.322-0.098-0.544-0.163-0.375-0.587  c0.365-0.921,0.403-1.718,0.007-2.286c-0.745-1.063-2.783-1.005-5.12-0.027c0-0.002-0.734,0.321-0.546-0.261  c0.359-1.156,0.305-2.123-0.254-2.682c-1.267-1.271-4.639,0.047-7.53,2.936C1.257,8.209,0,10.504,0,12.488  c0,3.796,4.866,6.104,9.628,6.104c6.241,0,10.393-3.627,10.393-6.506C20.021,10.347,18.557,9.358,17.24,8.952" />
        <path fill="#f9f9f9" d="M21.384,2.005c-1.507-1.671-3.73-2.308-5.782-1.872l0,0c-0.475,0.102-0.778,0.569-0.676,1.043  c0.101,0.473,0.567,0.777,1.043,0.674c1.459-0.31,3.039,0.145,4.111,1.332c1.069,1.188,1.362,2.806,0.902,4.225v0.001  c-0.149,0.462,0.104,0.957,0.566,1.106c0.461,0.149,0.956-0.104,1.105-0.565c0,0,0-0.002,0-0.004  C23.299,5.95,22.894,3.674,21.384,2.005" />
        <path fill="#f9f9f9" d="M19.07,4.094c-0.734-0.814-1.817-1.123-2.817-0.912c-0.409,0.088-0.671,0.49-0.581,0.899  c0.088,0.407,0.489,0.67,0.896,0.58v0.001c0.488-0.104,1.019,0.047,1.379,0.445c0.359,0.398,0.455,0.941,0.301,1.416l0,0  c-0.127,0.398,0.09,0.825,0.488,0.954c0.396,0.127,0.824-0.091,0.952-0.488C20,6.017,19.805,4.908,19.07,4.094" />
        <path fill="#f9f9f9" d="M9.85,12.713c-0.132,0.229-0.426,0.338-0.656,0.242c-0.227-0.094-0.297-0.348-0.169-0.572  c0.132-0.221,0.416-0.328,0.64-0.239C9.895,12.227,9.978,12.483,9.85,12.713 M8.64,14.268c-0.367,0.586-1.154,0.843-1.747,0.57  c-0.584-0.265-0.756-0.945-0.389-1.518c0.362-0.568,1.124-0.824,1.712-0.574C8.811,12.998,9.001,13.675,8.64,14.268 M10.021,10.118  c-1.808-0.47-3.852,0.431-4.637,2.023c-0.8,1.624-0.026,3.428,1.801,4.017c1.892,0.612,4.122-0.324,4.898-2.078  C12.848,12.367,11.891,10.602,10.021,10.118" />
      </svg>
    </a>
  </li>
  
  
  
  <!-- Twitter -->
  <li>
    <a href="https://twitter.com/#!/dyfeng88625" target="_blank">
      <svg width="40" height="40" class="twitter" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <path fill="#f9f9f9" d="M14.605,13.11C15.518,10.259,16.634,8.411999999999999,17.918,7.071999999999999C18.877,6.071999999999999,19.371,5.755999999999999,18.808999999999997,6.855999999999999C19.058999999999997,6.656999999999999,19.415,6.391999999999999,19.694,6.2509999999999994C21.249,5.518,21.136,6.132,20.067,6.7909999999999995C22.990000000000002,5.7459999999999996,22.887,7.076999999999999,19.796,7.739999999999999C22.323,7.786999999999999,25.009999999999998,9.395999999999999,25.783,12.817C25.888,13.291,25.762,13.245000000000001,26.247,13.331C27.294,13.517,28.277,13.504999999999999,29.238,13.200999999999999C29.134,13.908999999999999,28.198999999999998,14.367999999999999,26.741,14.671999999999999C26.2,14.783999999999999,26.09,14.754999999999999,26.736,14.900999999999998C27.535,15.079999999999998,28.426000000000002,15.126999999999999,29.37,15.082999999999998C28.636000000000003,15.928999999999998,27.465,16.360999999999997,26.016000000000002,16.378999999999998C25.112000000000002,19.688,23.040000000000003,22.057,20.42,23.543C14.268,27.035,5.312000000000001,26.527,0.8210000000000015,20.183999999999997C3.7680000000000016,22.496,8.133000000000003,23.005,11.376000000000001,19.782999999999998C9.251000000000001,19.782999999999998,8.702000000000002,18.191999999999997,10.386000000000001,17.333999999999996C8.791,17.316999999999997,7.7780000000000005,16.812999999999995,7.183000000000002,15.899999999999997C6.957000000000002,15.552999999999997,6.9540000000000015,15.525999999999996,7.323000000000001,15.259999999999996C7.7280000000000015,14.966999999999997,8.281,14.836999999999996,8.851,14.792999999999996C7.200000000000001,14.319999999999995,6.191000000000001,13.457999999999995,5.8420000000000005,12.301999999999996C5.726000000000001,11.919999999999996,5.708,11.938999999999997,6.098000000000001,11.839999999999996C6.478000000000001,11.742999999999997,6.968000000000001,11.691999999999997,7.407000000000001,11.669999999999996C6.11,10.88,5.336,9.917,5.139,8.852C4.953,7.846,5.144,8.104000000000001,5.897,8.392C9.263,9.68,12.619,11.062,14.605,13.11L14.605,13.11Z" />
      </svg>
    </a>
  </li>
  
</ul>

<script src="/javascripts/application.js"></script>

<script>var disqus_shortname="dyfeng",disqus_identifier=disqus_url="http://www.dyfeng.org/2012/08/12/all-about-git/",disqus_script="embed.js";(function(){var a=document.createElement("script");a.async=!0,a.src="http://"+disqus_shortname+".disqus.com/"+disqus_script,document.getElementsByTagName("head")[0].appendChild(a)})()</script>
<iframe src="/offline-cache.html" style="display:none"></iframe>
</body>
</html>