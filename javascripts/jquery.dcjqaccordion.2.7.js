(function(b){b.fn.dcAccordion=function(f){function e(e,g){var h=[];b("li a."+a.classActive,g).each(function(){var a=b(this).parent("li"),a=b("li",g).index(a);h.push(a)});b.cookie(e,h,{path:"/"})}var a={classParent:"dcjq-parent",classActive:"active",classArrow:"dcjq-icon",classCount:"dcjq-count",classExpand:"dcjq-current-parent",eventType:"click",hoverDelay:300,menuClose:!0,autoClose:!0,autoExpand:!1,speed:"slow",saveState:!0,disableLink:!0,showCount:!1,cookie:"dcjq-accordion"},f=b.extend(a,f);this.each(function(){function f(){$activeLi=
b(this).parent("li");$parentsLi=$activeLi.parents("li");$parentsUl=$activeLi.parents("ul");!0==a.autoClose&&i($parentsLi,$parentsUl);b("> ul",$activeLi).is(":visible")?(b("ul",$activeLi).slideUp(a.speed),b("a",$activeLi).removeClass(a.classActive)):(b(this).siblings("ul").slideToggle(a.speed),b("> a",$activeLi).addClass(a.classActive));!0==a.saveState&&e(a.cookie,c)}function g(){}function h(){}function k(){!0==a.menuClose&&(b("ul",c).slideUp(a.speed),b("a",c).removeClass(a.classActive),e(a.cookie,
c))}function i(d,e){b("ul",c).not(e).slideUp(a.speed);b("a",c).removeClass(a.classActive);b("> a",d).addClass(a.classActive)}var c=this;$arrow='<span class="'+a.classArrow+'"></span>';var j=a.classParent+"-li";b("> ul",c).show();b("li",c).each(function(){0<b("> ul",this).length&&(b(this).addClass(j),b("> a",this).addClass(a.classParent).append($arrow))});b("> ul",c).hide();!0==a.showCount&&b("li."+j,c).each(function(){var c=!0==a.disableLink?parseInt(b("ul a:not(."+a.classParent+")",this).length):
parseInt(b("ul a",this).length);b("> a",this).append(' <span class="'+a.classCount+'">('+c+")</span>")});if(!0==a.saveState){var l=c,d=b.cookie(a.cookie);null!=d&&(d=d.split(","),b.each(d,function(c,d){var e=b("li:eq("+d+")",l);b("> a",e).addClass(a.classActive);e=e.parents("li");b("> a",e).addClass(a.classActive)}))}!0==a.autoExpand&&b("li."+a.classExpand+" > a").addClass(a.classActive);b("ul",c).hide();$allActiveLi=b("a."+a.classActive,c);$allActiveLi.siblings("ul").show();"hover"==a.eventType?
(d={sensitivity:2,interval:a.hoverDelay,over:f,timeout:a.hoverDelay,out:g},b("li a",c).hoverIntent(d),d={sensitivity:2,interval:1E3,over:h,timeout:1E3,out:k},b(c).hoverIntent(d),!0==a.disableLink&&b("li a",c).click(function(a){0<b(this).siblings("ul").length&&a.preventDefault()})):b("li a",c).click(function(d){$activeLi=b(this).parent("li");$parentsLi=$activeLi.parents("li");$parentsUl=$activeLi.parents("ul");!0==a.disableLink&&0<b(this).siblings("ul").length&&d.preventDefault();!0==a.autoClose&&
i($parentsLi,$parentsUl);b("> ul",$activeLi).is(":visible")?(b("ul",$activeLi).slideUp(a.speed),b("a",$activeLi).removeClass(a.classActive)):(b(this).siblings("ul").slideToggle(a.speed),b("> a",$activeLi).addClass(a.classActive));!0==a.saveState&&e(a.cookie,c)})})}})(jQuery);
